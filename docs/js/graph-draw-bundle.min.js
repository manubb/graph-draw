!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).graphDraw=t()}}(function(){return function t(a,i,e){function r(s,o){if(!i[s]){if(!a[s]){var h="function"==typeof require&&require;if(!o&&h)return h(s,!0);if(n)return n(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};a[s][0].call(c.exports,function(t){var i=a[s][1][t];return r(i||t)},c,c.exports,t,a,i,e)}return i[s].exports}for(var n="function"==typeof require&&require,s=0;s<e.length;s++)r(e[s]);return r}({1:[function(t,a,i){"use strict";function e(t,a){return t.b===a.b&&t.a===a.a}function r(t,a){return t.b<a.b||t.b===a.b&&t.a<=a.a}function n(t,a,i){var e=a.b-t.b,r=i.b-a.b;return 0<e+r?e<r?a.a-t.a+e/(e+r)*(t.a-i.a):a.a-i.a+r/(e+r)*(i.a-t.a):0}function s(t,a,i){var e=a.b-t.b,r=i.b-a.b;return 0<e+r?(a.a-i.a)*e+(a.a-t.a)*r:0}function o(t,a){return t.a<a.a||t.a===a.a&&t.b<=a.b}function h(t,a,i){var e=a.a-t.a,r=i.a-a.a;return 0<e+r?e<r?a.b-t.b+e/(e+r)*(t.b-i.b):a.b-i.b+r/(e+r)*(i.b-t.b):0}function u(t,a,i){var e=a.a-t.a,r=i.a-a.a;return 0<e+r?(a.b-i.b)*e+(a.b-t.b)*r:0}function c(t){return r(t.b.a,t.a)}function b(t){return r(t.a,t.b.a)}function f(t,a,i,e){return t=0>t?0:t,i=0>i?0:i,t<=i?0===i?(a+e)/2:a+t/(t+i)*(e-a):e+i/(t+i)*(a-e)}function l(t){var a=g(t.b);return T(a,t.c),T(a.b,t.c),S(a,t.a),a}function d(t,a){var i=!1,e=!1;t!==a&&(a.a!==t.a&&(e=!0,L(a.a,t.a)),a.d!==t.d&&(i=!0,y(a.d,t.d)),E(a,t),e||(T(a,t.a),t.a.c=t),i||(S(a,t.d),t.d.a=t))}function _(t){var a=t.b,i=!1;t.d!==t.b.d&&(i=!0,y(t.d,t.b.d)),t.c===t?L(t.a,null):(t.b.d.a=J(t),t.a.c=t.c,E(t,J(t)),i||S(t,t.d)),a.c===a?(L(a.a,null),y(a.d,null)):(t.d.a=J(a),a.a.c=a.c,E(a,J(a))),G(t)}function p(t){var a=g(t),i=a.b;return E(a,t.e),a.a=t.b.a,T(i,a.a),a.d=i.d=t.d,a=a.b,E(t.b,J(t.b)),E(t.b,a),t.b.a=a.a,a.b.a.c=a.b,a.b.d=t.b.d,a.f=t.f,a.b.f=t.b.f,a}function v(t,a){var i=!1,e=g(t),r=e.b;return a.d!==t.d&&(i=!0,y(a.d,t.d)),E(e,t.e),E(r,a),e.a=t.b.a,r.a=a.a,e.d=r.d=t.d,t.d.a=r,i||S(e,t.d),e}function g(t){var a=new Z,i=new Z,e=t.b.h;return i.h=e,e.b.h=a,a.h=t,t.b.h=i,a.b=i,a.c=a,a.e=i,i.b=a,i.c=i,i.e=a}function E(t,a){var i=t.c,e=a.c;i.b.e=a,e.b.e=t,t.c=e,a.c=i}function T(t,a){var i=a.f,e=new tt(a,i);i.e=e,a.f=e,i=e.c=t;do{i.a=e,i=i.c}while(i!==t)}function S(t,a){var i=a.d,e=new Q(a,i);i.b=e,a.d=e,e.a=t,e.c=a.c,i=t;do{i.d=e,i=i.e}while(i!==t)}function G(t){var a=t.h;t=t.b.h,a.b.h=t,t.b.h=a}function L(t,a){var i=t.c,e=i;do{e.a=a,e=e.c}while(e!==i);i=t.f,(e=t.e).f=i,i.e=e}function y(t,a){var i=t.a,e=i;do{e.d=a,e=e.e}while(e!==i);i=t.d,(e=t.b).d=i,i.b=e}function w(t){var a=0;return Math.abs(t[1])>Math.abs(t[0])&&(a=1),Math.abs(t[2])>Math.abs(t[a])&&(a=2),a}function N(t,a){t.f+=a.f,t.b.f+=a.b.f}function m(t,a,i){return t=t.a,a=a.a,i=i.a,a.b.a===t?i.b.a===t?r(a.a,i.a)?0>=s(i.b.a,a.a,i.a):0<=s(a.b.a,i.a,a.a):0>=s(i.b.a,t,i.a):i.b.a===t?0<=s(a.b.a,t,a.a):(a=n(a.b.a,t,a.a),t=n(i.b.a,t,i.a),a>=t)}function I(t){t.a.i=null;var a=t.e;a.a.c=a.c,a.c.a=a.a,t.e=null}function U(t,a){_(t.a),t.c=!1,t.a=a,a.i=t}function O(t){var a=t.a.a;do{t=dt(t)}while(t.a.a===a);return t.c&&(a=v(lt(t).a.b,t.a.e),U(t,a),t=dt(t)),t}function k(t,a,i){var e=new ft;return e.a=i,e.e=F(t.f,a.e,e),i.i=e}function x(t,a){switch(t.s){case 100130:return 0!=(1&a);case 100131:return 0!==a;case 100132:return 0<a;case 100133:return 0>a;case 100134:return 2<=a||-2>=a}return!1}function A(t){var a=t.a,i=a.d;i.c=t.d,i.a=a,I(t)}function D(t,a,i){for(t=a,a=a.a;t!==i;){t.c=!1;var e=lt(t),r=e.a;if(r.a!==a.a){if(!e.c){A(t);break}U(e,r=v(a.c.b,r.b))}a.c!==r&&(d(J(r),r),d(a,r)),A(t),a=e.a,t=e}return a}function M(t,a,i,e,r,n){var s=!0;do{k(t,a,i.b),i=i.c}while(i!==e);for(null===r&&(r=lt(a).a.b.c);e=lt(a),(i=e.a.b).a===r.a;)i.c!==r&&(d(J(i),i),d(J(r),i)),e.f=a.f-i.f,e.d=x(t,e.f),a.b=!0,!s&&B(t,a)&&(N(i,r),I(a),_(r)),s=!1,a=e,r=i;a.b=!0,n&&V(t,a)}function R(t,a,i,e,r){var n=[a.g[0],a.g[1],a.g[2]];a.d=null,a.d=t.o?t.o(n,i,e,t.c)||null:null,null===a.d&&(r?t.n||(K(t,100156),t.n=!0):a.d=i[0])}function C(t,a,i){var e=[null,null,null,null];e[0]=a.a.d,e[1]=i.a.d,R(t,a.a,e,[.5,.5,0,0],!1),d(a,i)}function P(t,a,i,e,r){var n=Math.abs(a.b-t.b)+Math.abs(a.a-t.a),s=Math.abs(i.b-t.b)+Math.abs(i.a-t.a),o=r+1;e[r]=.5*s/(n+s),e[o]=.5*n/(n+s),t.g[0]+=e[r]*a.g[0]+e[o]*i.g[0],t.g[1]+=e[r]*a.g[1]+e[o]*i.g[1],t.g[2]+=e[r]*a.g[2]+e[o]*i.g[2]}function B(t,a){var i=lt(a),n=a.a,o=i.a;if(r(n.a,o.a)){if(0<s(o.b.a,n.a,o.a))return!1;if(e(n.a,o.a)){if(n.a!==o.a){var i=t.e,h=n.a.h;if(0<=h){var u=(i=i.b).d,c=i.e,b=i.c,f=b[h];u[f]=u[i.a],b[u[f]]=f,f<=--i.a&&(1>=f?ct(i,f):r(c[u[f>>1]],c[u[f]])?ct(i,f):bt(i,f)),c[h]=null,b[h]=i.b,i.b=h}else for(i.c[-(h+1)]=null;0<i.a&&null===i.c[i.d[i.a-1]];)--i.a;C(t,J(o),n)}}else p(o.b),d(n,J(o)),a.b=i.b=!0}else{if(0>s(n.b.a,o.a,n.a))return!1;dt(a).b=a.b=!0,p(n.b),d(J(o),n)}return!0}function j(t,a){var i=lt(a),c=a.a,b=i.a,l=c.a,_=b.a,v=c.b.a,g=b.b.a,E=new tt;if(s(v,t.a,l),s(g,t.a,_),l===_||Math.min(l.a,v.a)>Math.max(_.a,g.a))return!1;if(r(l,_)){if(0<s(g,l,_))return!1}else if(0>s(v,_,l))return!1;var T,S,G=v,L=l,y=g,w=_;if(r(G,L)||(T=G,G=L,L=T),r(y,w)||(T=y,y=w,w=T),r(G,y)||(T=G,G=y,y=T,T=L,L=w,w=T),r(y,L)?r(L,w)?(T=n(G,y,L),S=n(y,L,w),0>T+S&&(T=-T,S=-S),E.b=f(T,y.b,S,L.b)):(T=s(G,y,L),S=-s(G,w,L),0>T+S&&(T=-T,S=-S),E.b=f(T,y.b,S,w.b)):E.b=(y.b+L.b)/2,o(G,L)||(T=G,G=L,L=T),o(y,w)||(T=y,y=w,w=T),o(G,y)||(T=G,G=y,y=T,T=L,L=w,w=T),o(y,L)?o(L,w)?(T=h(G,y,L),S=h(y,L,w),0>T+S&&(T=-T,S=-S),E.a=f(T,y.a,S,L.a)):(T=u(G,y,L),S=-u(G,w,L),0>T+S&&(T=-T,S=-S),E.a=f(T,y.a,S,w.a)):E.a=(y.a+L.a)/2,r(E,t.a)&&(E.b=t.a.b,E.a=t.a.a),G=r(l,_)?l:_,r(G,E)&&(E.b=G.b,E.a=G.a),e(E,l)||e(E,_))return B(t,a),!1;if(!e(v,t.a)&&0<=s(v,t.a,E)||!e(g,t.a)&&0>=s(g,t.a,E)){if(g===t.a)return p(c.b),d(b.b,c),a=O(a),c=lt(a).a,D(t,lt(a),i),M(t,a,J(c),c,c,!0),!0;if(v===t.a){p(b.b),d(c.e,J(b)),_=(l=i=a).a.b.a;do{l=dt(l)}while(l.a.b.a===_);return a=l,l=lt(a).a.b.c,i.a=J(b),b=D(t,i,null),M(t,a,b.c,c.b.c,l,!0),!0}return 0<=s(v,t.a,E)&&(dt(a).b=a.b=!0,p(c.b),c.a.b=t.a.b,c.a.a=t.a.a),0>=s(g,t.a,E)&&(a.b=i.b=!0,p(b.b),b.a.b=t.a.b,b.a.a=t.a.a),!1}return p(c.b),p(b.b),d(J(b),c),c.a.b=E.b,c.a.a=E.a,c.a.h=et(t.e,c.a),c=c.a,b=[0,0,0,0],E=[l.d,v.d,_.d,g.d],c.g[0]=c.g[1]=c.g[2]=0,P(c,l,v,b,0),P(c,_,g,b,2),R(t,c,E,b,!0),dt(a).b=a.b=i.b=!0,!1}function V(t,a){for(var i=lt(a);;){for(;i.b;)a=i,i=lt(i);if(!a.b&&(i=a,null===(a=dt(a))||!a.b))break;a.b=!1;var e,n=a.a,o=i.a;if(e=n.b.a!==o.b.a)t:{var h=lt(e=a),u=e.a,c=h.a,b=void 0;if(r(u.b.a,c.b.a)){if(0>s(u.b.a,c.b.a,u.a)){e=!1;break t}dt(e).b=e.b=!0,b=p(u),d(c.b,b),b.d.c=e.d}else{if(0<s(c.b.a,u.b.a,c.a)){e=!1;break t}e.b=h.b=!0,b=p(c),d(u.e,c.b),b.b.d.c=e.d}e=!0}if(e&&(i.c?(I(i),_(o),i=lt(a),o=i.a):a.c&&(I(a),_(n),a=dt(i),n=a.a)),n.a!==o.a)if(n.b.a===o.b.a||a.c||i.c||n.b.a!==t.a&&o.b.a!==t.a)B(t,a);else if(j(t,a))break;n.a===o.a&&n.b.a===o.b.a&&(N(o,n),I(a),_(n),a=dt(i))}}function q(t,a){t.a=a;for(i=a.c;null===i.i;)if((i=i.c)===a.c){var i=t,n=a;(h=new ft).a=n.c.b;u=(b=i.f).a;do{u=u.a}while(null!==u.b&&!b.c(b.b,h,u.b));var o=lt(b=u.b),h=b.a,u=o.a;if(0===s(h.b.a,n,h.a))h=b.a,e(h.a,n)||e(h.b.a,n)||(p(h.b),b.c&&(_(h.c),b.c=!1),d(n.c,h),q(i,n));else{var c=r(u.b.a,h.b.a)?b:o,o=void 0;b.d||c.c?(o=c===b?v(n.c.b,h.e):v(u.b.c.b,n.c).b,c.c?U(c,o):(h=i,b=k(i,b,o),b.f=dt(b).f+b.a.f,b.d=x(h,b.f)),q(i,n)):M(i,b,n.c,n.c,null,!0)}return}if(i=O(i.i),h=lt(i),b=h.a,(h=D(t,h,null)).c===b){var b=h,h=b.c,u=lt(i),o=i.a,c=u.a,f=!1;o.b.a!==c.b.a&&j(t,i),e(o.a,t.a)&&(d(J(h),o),i=O(i),h=lt(i).a,D(t,lt(i),u),f=!0),e(c.a,t.a)&&(d(b,J(c)),b=D(t,u,null),f=!0),f?M(t,i,b.c,h,h,!0):(n=r(c.a,o.a)?J(c):o,n=v(b.c.b,n),M(t,i,n,n.c,n.c,!1),n.b.i.c=!0,V(t,i))}else M(t,i,h.c,b,b,!0)}function W(t,a){var i=new ft,e=l(t.b);e.a.b=pt,e.a.a=a,e.b.a.b=-pt,e.b.a.a=a,t.a=e.b.a,i.a=e,i.f=0,i.d=!1,i.c=!1,i.h=!0,i.b=!1,e=F(e=t.f,e.a,i),i.e=e}function Y(t){this.a=new X,this.b=t,this.c=m}function F(t,a,i){do{a=a.c}while(null!==a.b&&!t.c(t.b,a.b,i));return t=new X(i,a.a,a),a.a.c=t,a.a=t}function X(t,a,i){this.b=t||null,this.a=a||this,this.c=i||this}function z(){this.d=vt,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function H(t,a){if(t.d!==a)for(;t.d!==a;)if(t.d<a)switch(t.d){case vt:K(t,100151),t.u(null);break;case 1:K(t,100152),t.t()}else switch(t.d){case 2:K(t,100154),t.v();break;case 1:K(t,100153),t.w()}}function K(t,a){t.p&&t.p(a,t.c)}function Q(t,a){this.b=t||this,this.d=a||this,this.a=null,this.c=!1}function Z(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function J(t){return t.b.e}function $(){this.c=new tt,this.a=new Q,this.b=new Z,this.d=new Z,this.b.b=this.d,this.d.b=this.b}function tt(t,a){this.e=t||this,this.f=a||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function at(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new nt}function it(t){t.d=[];for(var a=0;a<t.a;a++)t.d[a]=a;t.d.sort(function(t){return function(a,i){return r(t[a],t[i])?1:-1}}(t.c)),t.e=!0,ot(t.b)}function et(t,a){if(t.e){var i=t.b,e=++i.a;2*e>i.f&&(i.f*=2,i.c=st(i.c,i.f+1));var r;return 0===i.b?r=e:(r=i.b,i.b=i.c[i.b]),i.e[r]=a,i.c[r]=e,i.d[e]=r,i.h&&bt(i,e),r}return i=t.a++,t.c[i]=a,-(i+1)}function rt(t){if(0===t.a)return ut(t.b);var a=t.c[t.d[t.a-1]];if(0!==t.b.a&&r(ht(t.b),a))return ut(t.b);do{--t.a}while(0<t.a&&null===t.c[t.d[t.a-1]]);return a}function nt(){this.d=st([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function st(t,a){for(var i=Array(a),e=0;e<t.length;e++)i[e]=t[e];for(;e<a;e++)i[e]=0;return i}function ot(t){for(var a=t.a;1<=a;--a)ct(t,a);t.h=!0}function ht(t){return t.e[t.d[1]]}function ut(t){var a=t.d,i=t.e,e=t.c,r=a[1],n=i[r];return 0<t.a&&(a[1]=a[t.a],e[a[1]]=1,i[r]=null,e[r]=t.b,t.b=r,0<--t.a&&ct(t,1)),n}function ct(t,a){for(var i=t.d,e=t.e,n=t.c,s=a,o=i[s];;){var h=s<<1;h<t.a&&r(e[i[h+1]],e[i[h]])&&(h+=1);var u=i[h];if(h>t.a||r(e[o],e[u])){i[s]=o,n[o]=s;break}i[s]=u,n[u]=s,s=h}}function bt(t,a){for(var i=t.d,e=t.e,n=t.c,s=a,o=i[s];;){var h=s>>1,u=i[h];if(0===h||r(e[u],e[o])){i[s]=o,n[o]=s;break}i[s]=u,n[u]=s,s=h}}function ft(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function lt(t){return t.e.c.b}function dt(t){return t.e.a.b}var _t,pt=4e150,vt=0;(_t=z.prototype).x=function(){H(this,vt)},_t.B=function(t,a){switch(t){case 100142:return;case 100140:switch(a){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=a)}break;case 100141:return void(this.m=!!a);default:return void K(this,100900)}K(this,100901)},_t.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:K(this,100900)}return!1},_t.A=function(t,a,i){this.j[0]=t,this.j[1]=a,this.j[2]=i},_t.z=function(t,a){var i=a||null;switch(t){case 100100:case 100106:this.h=i;break;case 100104:case 100110:this.l=i;break;case 100101:case 100107:this.k=i;break;case 100102:case 100108:this.i=i;break;case 100103:case 100109:this.p=i;break;case 100105:case 100111:this.o=i;break;case 100112:this.r=i;break;default:K(this,100900)}},_t.C=function(t,a){var i=!1,e=[0,0,0];H(this,2);for(var r=0;3>r;++r){var n=t[r];-1e150>n&&(n=-1e150,i=!0),1e150<n&&(n=1e150,i=!0),e[r]=n}i&&K(this,100155),null===(i=this.q)?(i=l(this.b),d(i,i.b)):(p(i),i=i.e),i.a.d=a,i.a.g[0]=e[0],i.a.g[1]=e[1],i.a.g[2]=e[2],i.f=1,i.b.f=-1,this.q=i},_t.u=function(t){H(this,vt),this.d=1,this.b=new $,this.c=t},_t.t=function(){H(this,1),this.d=2,this.q=null},_t.v=function(){H(this,2),this.d=1},_t.w=function(){H(this,1),this.d=vt;var t=!1,a=[u=this.j[0],i=this.j[1],o=this.j[2]];if(0===u&&0===i&&0===o){for(var i=[-2e150,-2e150,-2e150],n=[2e150,2e150,2e150],o=[],h=[],u=(t=this.b.c).e;u!==t;u=u.e)for(var f=0;3>f;++f){var l=u.g[f];l<n[f]&&(n[f]=l,h[f]=u),l>i[f]&&(i[f]=l,o[f]=u)}if(u=0,i[1]-n[1]>i[0]-n[0]&&(u=1),i[2]-n[2]>i[u]-n[u]&&(u=2),n[u]>=i[u])a[0]=0,a[1]=0,a[2]=1;else{for(i=0,n=h[u],o=o[u],h=[0,0,0],n=[n.g[0]-o.g[0],n.g[1]-o.g[1],n.g[2]-o.g[2]],f=[0,0,0],u=t.e;u!==t;u=u.e)f[0]=u.g[0]-o.g[0],f[1]=u.g[1]-o.g[1],f[2]=u.g[2]-o.g[2],h[0]=n[1]*f[2]-n[2]*f[1],h[1]=n[2]*f[0]-n[0]*f[2],h[2]=n[0]*f[1]-n[1]*f[0],(l=h[0]*h[0]+h[1]*h[1]+h[2]*h[2])>i&&(i=l,a[0]=h[0],a[1]=h[1],a[2]=h[2]);0>=i&&(a[0]=a[1]=a[2]=0,a[w(n)]=1)}t=!0}for(h=w(a),u=this.b.c,i=(h+1)%3,o=(h+2)%3,h=0<a[h]?1:-1,a=u.e;a!==u;a=a.e)a.b=a.g[i],a.a=h*a.g[o];if(t){for(a=0,u=(t=this.b.a).b;u!==t;u=u.b)if(!(0>=(i=u.a).f))do{a+=(i.a.b-i.b.a.b)*(i.a.a+i.b.a.a),i=i.e}while(i!==u.a);if(0>a)for(a=this.b.c,t=a.e;t!==a;t=t.e)t.a=-t.a}for(this.n=!1,u=(a=this.b.b).h;u!==a;u=t)t=u.h,i=u.e,e(u.a,u.b.a)&&u.e.e!==u&&(C(this,i,u),_(u),u=i,i=u.e),i.e===u&&(i!==u&&(i!==t&&i!==t.b||(t=t.h),_(i)),u!==t&&u!==t.b||(t=t.h),_(u));for(this.e=a=new at,u=(t=this.b.c).e;u!==t;u=u.e)u.h=et(a,u);for(it(a),this.f=new Y(this),W(this,-pt),W(this,pt);null!==(a=rt(this.e));){for(;;){t:if(0===(u=this.e).a)t=ht(u.b);else if(t=u.c[u.d[u.a-1]],0!==u.b.a&&(u=ht(u.b),r(u,t))){t=u;break t}if(null===t||!e(t,a))break;t=rt(this.e),C(this,a.c,t.c)}q(this,a)}for(this.a=this.f.a.a.b.a.a,a=0;null!==(t=this.f.a.a.b);)t.h||++a,I(t);for(this.f=null,(a=this.e).b=null,a.d=null,this.e=a.c=null,u=(a=this.b).a.b;u!==a.a;u=t)t=u.b,(u=u.a).e.e===u&&(N(u.c,u),_(u));if(!this.n){if(a=this.b,this.m)for(u=a.b.h;u!==a.b;u=t)t=u.h,u.b.d.c!==u.d.c?u.f=u.d.c?1:-1:_(u);else for(u=a.a.b;u!==a.a;u=t)if(t=u.b,u.c){for(u=u.a;r(u.b.a,u.a);u=u.c.b);for(;r(u.a,u.b.a);u=u.e);for(i=u.c.b,o=void 0;u.e!==i;)if(r(u.b.a,i.a)){for(;i.e!==u&&(c(i.e)||0>=s(i.a,i.b.a,i.e.b.a));)o=v(i.e,i),i=o.b;i=i.c.b}else{for(;i.e!==u&&(b(u.c.b)||0<=s(u.b.a,u.a,u.c.b.a));)o=v(u,u.c.b),u=o.b;u=u.e}for(;i.e.e!==u;)o=v(i.e,i),i=o.b}if(this.h||this.i||this.k||this.l)if(this.m){for(a=this.b,t=a.a.b;t!==a.a;t=t.b)if(t.c){this.h&&this.h(2,this.c),u=t.a;do{this.k&&this.k(u.a.d,this.c),u=u.e}while(u!==t.a);this.i&&this.i(this.c)}}else{for(a=this.b,t=!!this.l,u=!1,i=-1,o=a.a.d;o!==a.a;o=o.d)if(o.c){u||(this.h&&this.h(4,this.c),u=!0),h=o.a;do{t&&(n=h.b.d.c?0:1,i!==n&&(i=n,this.l&&this.l(!!i,this.c))),this.k&&this.k(h.a.d,this.c),h=h.e}while(h!==o.a)}u&&this.i&&this.i(this.c)}if(this.r){for(u=(a=this.b).a.b;u!==a.a;u=t)if(t=u.b,!u.c){o=(i=u.a).e,h=void 0;do{h=o,o=h.e,h.d=null,null===h.b.d&&(h.c===h?L(h.a,null):(h.a.c=h.c,E(h,J(h))),(n=h.b).c===n?L(n.a,null):(n.a.c=n.c,E(n,J(n))),G(h))}while(h!==i);i=u.d,(u=u.b).d=i,i.b=u}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:z,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},z.prototype.gluDeleteTess=z.prototype.x,z.prototype.gluTessProperty=z.prototype.B,z.prototype.gluGetTessProperty=z.prototype.y,z.prototype.gluTessNormal=z.prototype.A,z.prototype.gluTessCallback=z.prototype.z,z.prototype.gluTessVertex=z.prototype.C,z.prototype.gluTessBeginPolygon=z.prototype.u,z.prototype.gluTessBeginContour=z.prototype.t,z.prototype.gluTessEndContour=z.prototype.v,z.prototype.gluTessEndPolygon=z.prototype.w,void 0!==a&&(a.exports=this.libtess)},{}],2:[function(t,a,i){"use strict";function e(){this.list=[],this.hash=Object.create(null)}function r(t,a){var i=n(t),e=n(a);i!==e&&(i.rank<e.rank?i.parent=e:(e.parent=i,i.rank===e.rank&&(i.rank+=1)))}function n(t){return t.parent!==t&&(t.parent=n(t.parent)),t.parent}function s(t,a,i){for(var e,r,n,s=u(t,a),o=0;o<4;o++){if((r=h(t,a,t,i[o]))<=0)n=-1;else{if(!(r>=s))return!1;n=1}if(0===o)e=n;else if(n!==e)return!1}return!0}function o(t,a){return!(s(t[0],t[1],a)||s(t[1],t[2],a)||s(a[0],a[1],t)||s(a[1],a[2],t))}function h(t,a,i,e){return(a[0]-t[0])*(e[0]-i[0])+(a[1]-t[1])*(e[1]-i[1])}function u(t,a){var i=a[0]-t[0],e=a[1]-t[1];return i*i+e*e}function c(t,a,i,e){var r=a[0]-t[0],n=a[1]-t[1],s=e[0]-i[0],o=e[1]-i[1],h=((a[0]-i[0])*n-r*(a[1]-i[1]))/(s*n-r*o);return[i[0]+h*s,i[1]+h*o]}function b(t,a,i,e){var r=a[0]-t[0],n=a[1]-t[1],s=e[0]-i[0],o=e[1]-i[1],u=s*n-r*o;if(0===u)return{point:t,valid:!0};var c=((a[0]-i[0])*n-r*(a[1]-i[1]))/u,b=[i[0]+c*s,i[1]+c*o];return c>1||h(a,b,a,t)<0?{point:b,valid:!1}:{point:b,valid:!0}}function f(t,a,i){var e=a[0]-t[0],r=a[1]-t[1],n=Math.sqrt(e*e+r*r),s=Math.acos(e/n);return r<0&&(s*=-1),{angle:s,norm:n,dir:[e,r],ortho:[-i*r/n,i*e/n]}}var l=new(t("./tessellator"));e.prototype.push=function(t){this.hash[t]||(this.hash[t]=!0,this.list.push(t))},e.prototype.pop=function(){if(this.list.length){var t=this.list.pop();return delete this.hash[t],t}return null},a.exports=function(t,a,i,s){var u=a/2;s=Math.max(Math.PI,s||2*Math.PI);var d=t.vertices.map(function(t){return{coords:t,neighList:[]}}),_=t.edges.map(function(t,a){var i=t[0],e=t[1],r=d[i],n=d[e],s=f(r.coords,n.coords,u);r.neighList.push({to:e,angle:s.angle,dir:s.dir,ortho:s.ortho,index:a}),n.neighList.push({to:i,angle:s.angle<=0?s.angle+Math.PI:s.angle-Math.PI,dir:[-s.dir[0],-s.dir[1]],ortho:[-s.ortho[0],-s.ortho[1]],index:a});var o={rank:0,edge:t,points:{}};return o.points[e]={},o.points[i]={},o.parent=o,o}),p=[];d.forEach(function(t,a){var i=t.coords,e=t.neighList;e.sort(function(t,a){return t.angle-a.angle});var r=e.length;if(1===r){var n=e[0],o=[i[0]+n.ortho[0],i[1]+n.ortho[1]],h=[i[0]-n.ortho[0],i[1]-n.ortho[1]],c=_[n.index].points;c[a].first_vertex=n.index,c[a].last_vertex=n.index,c[a].first=o,c[a].remove_middle_first=!0,c[a].remove_middle_last=!0,c[a].last=h}else e.forEach(function(t,n){var o=n===r-1,h=e[o?0:n+1],c=_[t.index].points,f=_[h.index].points;c[a].first_vertex=h.index,f[a].last_vertex=t.index;var l=[i[0]+t.ortho[0],i[1]+t.ortho[1]],d=[l[0]+t.dir[0],l[1]+t.dir[1]],v=[i[0]-h.ortho[0],i[1]-h.ortho[1]],g=b(l,d,v,[v[0]+h.dir[0],v[1]+h.dir[1]]),E=g.point;if(g.valid){if((o?h.angle+2*Math.PI:h.angle)-t.angle>s){c[a].first=l,f[a].last=v;var T=[E[0]-i[0],E[1]-i[1]],S=1/Math.sqrt(T[0]*T[0]+T[1]*T[1]);c[a].miter_first=f[a].miter_last=[i[0]+u*T[0]*S,i[1]+u*T[1]*S]}else c[a].first=E,f[a].last=E;2===r&&(c[a].remove_middle_first=!0,f[a].remove_middle_last=!0)}else{var G=[E[0]-t.ortho[0],E[1]-t.ortho[1]],L=[E[0]+h.ortho[0],E[1]+h.ortho[1]];p.push({done:[t.index,h.index],todo:[a,t.to,h.to],rectangles:[[l,E,G,i],[v,E,L,i]]}),c[a].first=l,f[a].last=v}})}),_.forEach(function(t){var a=t.edge,i=a[0],e=a[1],n=t.points[i],s=t.points[e],o=d[i].coords,u=d[e].coords,b=t.polygon=[];if(h(n.last,s.first,o,u)<0){var f=n.last_vertex,l=s.first_vertex;r(_[f],_[l]),b.push(c(n.miter_last||o,n.last,s.first,s.miter_first||u))}else b.push(n.last,s.first);if(s.miter_first&&b.push(s.miter_first),s.remove_middle_first&&s.remove_middle_last||b.push(u),s.miter_last&&b.push(s.miter_last),h(n.first,s.last,o,u)<0){var f=n.first_vertex,l=s.last_vertex;r(_[f],_[l]),b.push(c(n.first,n.miter_first||o,s.miter_last||u,s.last))}else b.push(s.last,n.first);n.miter_first&&b.push(n.miter_first),n.remove_middle_first&&n.remove_middle_last||b.push(o),n.miter_last&&b.push(n.miter_last)});var v=Object.create(null);p.forEach(function(t){var a=Object.create(null),i=t.done[0],n=t.done[1],s=_[i],h=_[n];r(s,h),a[i]=!0,a[n]=!0;var u=new e;t.todo.forEach(function(t){u.push(t)});for(var c,b=t.rectangles[0],f=t.rectangles[1];null!==(c=u.pop());)d[c].neighList.forEach(function(t){var i=t.index;if(!a[i]){var e=t.to,n=v[i];if(!n){var h=d[c].coords,l=d[e].coords,p=[h[0]+t.ortho[0],h[1]+t.ortho[1]],g=[l[0]+t.ortho[0],l[1]+t.ortho[1]],E=[l[0]-t.ortho[0],l[1]-t.ortho[1]],T=[h[0]-t.ortho[0],h[1]-t.ortho[1]];n=v[i]=[p,g,E,T]}a[i]=!0,(o(n,b)||o(n,f))&&(r(s,_[i]),u.push(e))}})});var g=[];_.forEach(function(t,a){if(t.rank>0&&t.parent===t)t.union=t.union||[],t.union.push(t.polygon),g.push(a);else if(t.parent===t)i(t.polygon);else{var e=n(t);e.union=e.union||[],e.union.push(t.polygon)}}),l._cb=i,g.forEach(function(t){l.run(_[t].union)}),delete l._cb}},{"./tessellator":3}],3:[function(t,a,i){"use strict";function e(){n.call(this),this.gluTessNormal(0,0,1),this.gluTessProperty(s.GLU_TESS_WINDING_RULE,r.windingRule.GLU_TESS_WINDING_POSITIVE),this.gluTessCallback(s.GLU_TESS_VERTEX_DATA,this._vertex),this.gluTessCallback(s.GLU_TESS_BEGIN,this._begin),this.gluTessCallback(s.GLU_TESS_END,this._end),this.gluTessCallback(s.GLU_TESS_ERROR,this._error),this.gluTessCallback(s.GLU_TESS_COMBINE,this._combine)}var r;try{r=t("libtess")}catch(t){if(void 0===window.libtess)throw new Error("libtess must be loaded before graph-draw");r=window.libtess}var n=r.GluTesselator,s=r.gluEnum,o=(r.primitiveType,s.GLU_TESS_BOUNDARY_ONLY),h=r.primitiveType.GL_LINE_LOOP;(e.prototype=Object.create(n.prototype)).constructor=e,e.prototype.run=function(t){var a=this;this.gluTessBeginPolygon(),t.forEach(function(t){a.gluTessBeginContour(),t.forEach(function(t){a.gluTessVertex([t[0],t[1],0],t)}),a.gluTessEndContour()}),this.gluTessProperty(o,!0),this._output=[],this.gluTessEndPolygon(),this.gluTessBeginPolygon(),this._output.forEach(function(t){a.gluTessBeginContour(),t.forEach(function(t){a.gluTessVertex([t[0],t[1],0],t)}),a.gluTessEndContour()}),this.gluTessProperty(o,!1),this.gluTessEndPolygon()},e.prototype.clean=function(){this._accu=[],this._output=[]},e.prototype._begin=function(t){this._primitiveType=t,this._accu=[]},e.prototype._vertex=function(t){this._accu.push(t)},e.prototype._error=function(t){console.error("libtess error: "+t)},e.prototype._combine=function(t){return[t[0],t[1]]},e.prototype._end=function(){if(this._primitiveType===h)this._output.push(this._accu);else for(var t=0;t<this._accu.length;t+=3)this._cb([this._accu[t],this._accu[t+1],this._accu[t+2]])},a.exports=e},{libtess:1}]},{},[2])(2)});