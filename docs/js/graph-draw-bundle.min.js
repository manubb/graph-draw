!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).graphDraw=t()}}(function(){return function t(a,i,e){function r(s,o){if(!i[s]){if(!a[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(n)return n(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[s]={exports:{}};a[s][0].call(c.exports,function(t){var i=a[s][1][t];return r(i||t)},c,c.exports,t,a,i,e)}return i[s].exports}for(var n="function"==typeof require&&require,s=0;s<e.length;s++)r(e[s]);return r}({1:[function(t,a,i){"use strict";function e(t,a){return t.b===a.b&&t.a===a.a}function r(t,a){return t.b<a.b||t.b===a.b&&t.a<=a.a}function n(t,a,i){var e=a.b-t.b,r=i.b-a.b;return 0<e+r?e<r?a.a-t.a+e/(e+r)*(t.a-i.a):a.a-i.a+r/(e+r)*(i.a-t.a):0}function s(t,a,i){var e=a.b-t.b,r=i.b-a.b;return 0<e+r?(a.a-i.a)*e+(a.a-t.a)*r:0}function o(t,a){return t.a<a.a||t.a===a.a&&t.b<=a.b}function u(t,a,i){var e=a.a-t.a,r=i.a-a.a;return 0<e+r?e<r?a.b-t.b+e/(e+r)*(t.b-i.b):a.b-i.b+r/(e+r)*(i.b-t.b):0}function h(t,a,i){var e=a.a-t.a,r=i.a-a.a;return 0<e+r?(a.b-i.b)*e+(a.b-t.b)*r:0}function c(t){return r(t.b.a,t.a)}function b(t){return r(t.a,t.b.a)}function f(t,a,i,e){return t=0>t?0:t,i=0>i?0:i,t<=i?0===i?(a+e)/2:a+t/(t+i)*(e-a):e+i/(t+i)*(a-e)}function l(t){var a=g(t.b);return T(a,t.c),T(a.b,t.c),S(a,t.a),a}function d(t,a){var i=!1,e=!1;t!==a&&(a.a!==t.a&&(e=!0,L(a.a,t.a)),a.d!==t.d&&(i=!0,y(a.d,t.d)),E(a,t),e||(T(a,t.a),t.a.c=t),i||(S(a,t.d),t.d.a=t))}function _(t){var a=t.b,i=!1;t.d!==t.b.d&&(i=!0,y(t.d,t.b.d)),t.c===t?L(t.a,null):(t.b.d.a=J(t),t.a.c=t.c,E(t,J(t)),i||S(t,t.d)),a.c===a?(L(a.a,null),y(a.d,null)):(t.d.a=J(a),a.a.c=a.c,E(a,J(a))),G(t)}function p(t){var a=g(t),i=a.b;return E(a,t.e),a.a=t.b.a,T(i,a.a),a.d=i.d=t.d,a=a.b,E(t.b,J(t.b)),E(t.b,a),t.b.a=a.a,a.b.a.c=a.b,a.b.d=t.b.d,a.f=t.f,a.b.f=t.b.f,a}function v(t,a){var i=!1,e=g(t),r=e.b;return a.d!==t.d&&(i=!0,y(a.d,t.d)),E(e,t.e),E(r,a),e.a=t.b.a,r.a=a.a,e.d=r.d=t.d,t.d.a=r,i||S(e,t.d),e}function g(t){var a=new Z,i=new Z,e=t.b.h;return i.h=e,e.b.h=a,a.h=t,t.b.h=i,a.b=i,a.c=a,a.e=i,i.b=a,i.c=i,i.e=a}function E(t,a){var i=t.c,e=a.c;i.b.e=a,e.b.e=t,t.c=e,a.c=i}function T(t,a){var i=a.f,e=new tt(a,i);i.e=e,a.f=e,i=e.c=t;do{i.a=e,i=i.c}while(i!==t)}function S(t,a){var i=a.d,e=new Q(a,i);i.b=e,a.d=e,e.a=t,e.c=a.c,i=t;do{i.d=e,i=i.e}while(i!==t)}function G(t){var a=t.h;t=t.b.h,a.b.h=t,t.b.h=a}function L(t,a){var i=t.c,e=i;do{e.a=a,e=e.c}while(e!==i);i=t.f,(e=t.e).f=i,i.e=e}function y(t,a){var i=t.a,e=i;do{e.d=a,e=e.e}while(e!==i);i=t.d,(e=t.b).d=i,i.b=e}function w(t){var a=0;return Math.abs(t[1])>Math.abs(t[0])&&(a=1),Math.abs(t[2])>Math.abs(t[a])&&(a=2),a}function N(t,a){t.f+=a.f,t.b.f+=a.b.f}function I(t,a,i){return t=t.a,a=a.a,i=i.a,a.b.a===t?i.b.a===t?r(a.a,i.a)?0>=s(i.b.a,a.a,i.a):0<=s(a.b.a,i.a,a.a):0>=s(i.b.a,t,i.a):i.b.a===t?0<=s(a.b.a,t,a.a):(a=n(a.b.a,t,a.a),t=n(i.b.a,t,i.a),a>=t)}function U(t){t.a.i=null;var a=t.e;a.a.c=a.c,a.c.a=a.a,t.e=null}function m(t,a){_(t.a),t.c=!1,t.a=a,a.i=t}function O(t){var a=t.a.a;do{t=dt(t)}while(t.a.a===a);return t.c&&(a=v(lt(t).a.b,t.a.e),m(t,a),t=dt(t)),t}function k(t,a,i){var e=new ft;return e.a=i,e.e=F(t.f,a.e,e),i.i=e}function x(t,a){switch(t.s){case 100130:return 0!=(1&a);case 100131:return 0!==a;case 100132:return 0<a;case 100133:return 0>a;case 100134:return 2<=a||-2>=a}return!1}function A(t){var a=t.a,i=a.d;i.c=t.d,i.a=a,U(t)}function D(t,a,i){for(t=a,a=a.a;t!==i;){t.c=!1;var e=lt(t),r=e.a;if(r.a!==a.a){if(!e.c){A(t);break}m(e,r=v(a.c.b,r.b))}a.c!==r&&(d(J(r),r),d(a,r)),A(t),a=e.a,t=e}return a}function R(t,a,i,e,r,n){var s=!0;do{k(t,a,i.b),i=i.c}while(i!==e);for(null===r&&(r=lt(a).a.b.c);e=lt(a),(i=e.a.b).a===r.a;)i.c!==r&&(d(J(i),i),d(J(r),i)),e.f=a.f-i.f,e.d=x(t,e.f),a.b=!0,!s&&P(t,a)&&(N(i,r),U(a),_(r)),s=!1,a=e,r=i;a.b=!0,n&&V(t,a)}function C(t,a,i,e,r){var n=[a.g[0],a.g[1],a.g[2]];a.d=null,a.d=t.o?t.o(n,i,e,t.c)||null:null,null===a.d&&(r?t.n||(K(t,100156),t.n=!0):a.d=i[0])}function M(t,a,i){var e=[null,null,null,null];e[0]=a.a.d,e[1]=i.a.d,C(t,a.a,e,[.5,.5,0,0],!1),d(a,i)}function B(t,a,i,e,r){var n=Math.abs(a.b-t.b)+Math.abs(a.a-t.a),s=Math.abs(i.b-t.b)+Math.abs(i.a-t.a),o=r+1;e[r]=.5*s/(n+s),e[o]=.5*n/(n+s),t.g[0]+=e[r]*a.g[0]+e[o]*i.g[0],t.g[1]+=e[r]*a.g[1]+e[o]*i.g[1],t.g[2]+=e[r]*a.g[2]+e[o]*i.g[2]}function P(t,a){var i=lt(a),n=a.a,o=i.a;if(r(n.a,o.a)){if(0<s(o.b.a,n.a,o.a))return!1;if(e(n.a,o.a)){if(n.a!==o.a){var i=t.e,u=n.a.h;if(0<=u){var h=(i=i.b).d,c=i.e,b=i.c,f=b[u];h[f]=h[i.a],b[h[f]]=f,f<=--i.a&&(1>=f?ct(i,f):r(c[h[f>>1]],c[h[f]])?ct(i,f):bt(i,f)),c[u]=null,b[u]=i.b,i.b=u}else for(i.c[-(u+1)]=null;0<i.a&&null===i.c[i.d[i.a-1]];)--i.a;M(t,J(o),n)}}else p(o.b),d(n,J(o)),a.b=i.b=!0}else{if(0>s(n.b.a,o.a,n.a))return!1;dt(a).b=a.b=!0,p(n.b),d(J(o),n)}return!0}function j(t,a){var i=lt(a),c=a.a,b=i.a,l=c.a,_=b.a,v=c.b.a,g=b.b.a,E=new tt;if(s(v,t.a,l),s(g,t.a,_),l===_||Math.min(l.a,v.a)>Math.max(_.a,g.a))return!1;if(r(l,_)){if(0<s(g,l,_))return!1}else if(0>s(v,_,l))return!1;var T,S,G=v,L=l,y=g,w=_;if(r(G,L)||(T=G,G=L,L=T),r(y,w)||(T=y,y=w,w=T),r(G,y)||(T=G,G=y,y=T,T=L,L=w,w=T),r(y,L)?r(L,w)?(T=n(G,y,L),S=n(y,L,w),0>T+S&&(T=-T,S=-S),E.b=f(T,y.b,S,L.b)):(T=s(G,y,L),S=-s(G,w,L),0>T+S&&(T=-T,S=-S),E.b=f(T,y.b,S,w.b)):E.b=(y.b+L.b)/2,o(G,L)||(T=G,G=L,L=T),o(y,w)||(T=y,y=w,w=T),o(G,y)||(T=G,G=y,y=T,T=L,L=w,w=T),o(y,L)?o(L,w)?(T=u(G,y,L),S=u(y,L,w),0>T+S&&(T=-T,S=-S),E.a=f(T,y.a,S,L.a)):(T=h(G,y,L),S=-h(G,w,L),0>T+S&&(T=-T,S=-S),E.a=f(T,y.a,S,w.a)):E.a=(y.a+L.a)/2,r(E,t.a)&&(E.b=t.a.b,E.a=t.a.a),G=r(l,_)?l:_,r(G,E)&&(E.b=G.b,E.a=G.a),e(E,l)||e(E,_))return P(t,a),!1;if(!e(v,t.a)&&0<=s(v,t.a,E)||!e(g,t.a)&&0>=s(g,t.a,E)){if(g===t.a)return p(c.b),d(b.b,c),a=O(a),c=lt(a).a,D(t,lt(a),i),R(t,a,J(c),c,c,!0),!0;if(v===t.a){p(b.b),d(c.e,J(b)),_=(l=i=a).a.b.a;do{l=dt(l)}while(l.a.b.a===_);return a=l,l=lt(a).a.b.c,i.a=J(b),b=D(t,i,null),R(t,a,b.c,c.b.c,l,!0),!0}return 0<=s(v,t.a,E)&&(dt(a).b=a.b=!0,p(c.b),c.a.b=t.a.b,c.a.a=t.a.a),0>=s(g,t.a,E)&&(a.b=i.b=!0,p(b.b),b.a.b=t.a.b,b.a.a=t.a.a),!1}return p(c.b),p(b.b),d(J(b),c),c.a.b=E.b,c.a.a=E.a,c.a.h=et(t.e,c.a),c=c.a,b=[0,0,0,0],E=[l.d,v.d,_.d,g.d],c.g[0]=c.g[1]=c.g[2]=0,B(c,l,v,b,0),B(c,_,g,b,2),C(t,c,E,b,!0),dt(a).b=a.b=i.b=!0,!1}function V(t,a){for(var i=lt(a);;){for(;i.b;)a=i,i=lt(i);if(!a.b&&(i=a,null===(a=dt(a))||!a.b))break;a.b=!1;var e,n=a.a,o=i.a;if(e=n.b.a!==o.b.a)t:{var u=lt(e=a),h=e.a,c=u.a,b=void 0;if(r(h.b.a,c.b.a)){if(0>s(h.b.a,c.b.a,h.a)){e=!1;break t}dt(e).b=e.b=!0,b=p(h),d(c.b,b),b.d.c=e.d}else{if(0<s(c.b.a,h.b.a,c.a)){e=!1;break t}e.b=u.b=!0,b=p(c),d(h.e,c.b),b.b.d.c=e.d}e=!0}if(e&&(i.c?(U(i),_(o),i=lt(a),o=i.a):a.c&&(U(a),_(n),a=dt(i),n=a.a)),n.a!==o.a)if(n.b.a===o.b.a||a.c||i.c||n.b.a!==t.a&&o.b.a!==t.a)P(t,a);else if(j(t,a))break;n.a===o.a&&n.b.a===o.b.a&&(N(o,n),U(a),_(n),a=dt(i))}}function q(t,a){t.a=a;for(i=a.c;null===i.i;)if((i=i.c)===a.c){var i=t,n=a;(u=new ft).a=n.c.b;h=(b=i.f).a;do{h=h.a}while(null!==h.b&&!b.c(b.b,u,h.b));var o=lt(b=h.b),u=b.a,h=o.a;if(0===s(u.b.a,n,u.a))u=b.a,e(u.a,n)||e(u.b.a,n)||(p(u.b),b.c&&(_(u.c),b.c=!1),d(n.c,u),q(i,n));else{var c=r(h.b.a,u.b.a)?b:o,o=void 0;b.d||c.c?(o=c===b?v(n.c.b,u.e):v(h.b.c.b,n.c).b,c.c?m(c,o):(u=i,b=k(i,b,o),b.f=dt(b).f+b.a.f,b.d=x(u,b.f)),q(i,n)):R(i,b,n.c,n.c,null,!0)}return}if(i=O(i.i),u=lt(i),b=u.a,(u=D(t,u,null)).c===b){var b=u,u=b.c,h=lt(i),o=i.a,c=h.a,f=!1;o.b.a!==c.b.a&&j(t,i),e(o.a,t.a)&&(d(J(u),o),i=O(i),u=lt(i).a,D(t,lt(i),h),f=!0),e(c.a,t.a)&&(d(b,J(c)),b=D(t,h,null),f=!0),f?R(t,i,b.c,u,u,!0):(n=r(c.a,o.a)?J(c):o,n=v(b.c.b,n),R(t,i,n,n.c,n.c,!1),n.b.i.c=!0,V(t,i))}else R(t,i,u.c,b,b,!0)}function W(t,a){var i=new ft,e=l(t.b);e.a.b=pt,e.a.a=a,e.b.a.b=-pt,e.b.a.a=a,t.a=e.b.a,i.a=e,i.f=0,i.d=!1,i.c=!1,i.h=!0,i.b=!1,e=F(e=t.f,e.a,i),i.e=e}function Y(t){this.a=new X,this.b=t,this.c=I}function F(t,a,i){do{a=a.c}while(null!==a.b&&!t.c(t.b,a.b,i));return t=new X(i,a.a,a),a.a.c=t,a.a=t}function X(t,a,i){this.b=t||null,this.a=a||this,this.c=i||this}function z(){this.d=vt,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function H(t,a){if(t.d!==a)for(;t.d!==a;)if(t.d<a)switch(t.d){case vt:K(t,100151),t.u(null);break;case 1:K(t,100152),t.t()}else switch(t.d){case 2:K(t,100154),t.v();break;case 1:K(t,100153),t.w()}}function K(t,a){t.p&&t.p(a,t.c)}function Q(t,a){this.b=t||this,this.d=a||this,this.a=null,this.c=!1}function Z(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function J(t){return t.b.e}function $(){this.c=new tt,this.a=new Q,this.b=new Z,this.d=new Z,this.b.b=this.d,this.d.b=this.b}function tt(t,a){this.e=t||this,this.f=a||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function at(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new nt}function it(t){t.d=[];for(var a=0;a<t.a;a++)t.d[a]=a;t.d.sort(function(t){return function(a,i){return r(t[a],t[i])?1:-1}}(t.c)),t.e=!0,ot(t.b)}function et(t,a){if(t.e){var i=t.b,e=++i.a;2*e>i.f&&(i.f*=2,i.c=st(i.c,i.f+1));var r;return 0===i.b?r=e:(r=i.b,i.b=i.c[i.b]),i.e[r]=a,i.c[r]=e,i.d[e]=r,i.h&&bt(i,e),r}return i=t.a++,t.c[i]=a,-(i+1)}function rt(t){if(0===t.a)return ht(t.b);var a=t.c[t.d[t.a-1]];if(0!==t.b.a&&r(ut(t.b),a))return ht(t.b);do{--t.a}while(0<t.a&&null===t.c[t.d[t.a-1]]);return a}function nt(){this.d=st([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function st(t,a){for(var i=Array(a),e=0;e<t.length;e++)i[e]=t[e];for(;e<a;e++)i[e]=0;return i}function ot(t){for(var a=t.a;1<=a;--a)ct(t,a);t.h=!0}function ut(t){return t.e[t.d[1]]}function ht(t){var a=t.d,i=t.e,e=t.c,r=a[1],n=i[r];return 0<t.a&&(a[1]=a[t.a],e[a[1]]=1,i[r]=null,e[r]=t.b,t.b=r,0<--t.a&&ct(t,1)),n}function ct(t,a){for(var i=t.d,e=t.e,n=t.c,s=a,o=i[s];;){var u=s<<1;u<t.a&&r(e[i[u+1]],e[i[u]])&&(u+=1);var h=i[u];if(u>t.a||r(e[o],e[h])){i[s]=o,n[o]=s;break}i[s]=h,n[h]=s,s=u}}function bt(t,a){for(var i=t.d,e=t.e,n=t.c,s=a,o=i[s];;){var u=s>>1,h=i[u];if(0===u||r(e[h],e[o])){i[s]=o,n[o]=s;break}i[s]=h,n[h]=s,s=u}}function ft(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function lt(t){return t.e.c.b}function dt(t){return t.e.a.b}var _t,pt=4e150,vt=0;(_t=z.prototype).x=function(){H(this,vt)},_t.B=function(t,a){switch(t){case 100142:return;case 100140:switch(a){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=a)}break;case 100141:return void(this.m=!!a);default:return void K(this,100900)}K(this,100901)},_t.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:K(this,100900)}return!1},_t.A=function(t,a,i){this.j[0]=t,this.j[1]=a,this.j[2]=i},_t.z=function(t,a){var i=a||null;switch(t){case 100100:case 100106:this.h=i;break;case 100104:case 100110:this.l=i;break;case 100101:case 100107:this.k=i;break;case 100102:case 100108:this.i=i;break;case 100103:case 100109:this.p=i;break;case 100105:case 100111:this.o=i;break;case 100112:this.r=i;break;default:K(this,100900)}},_t.C=function(t,a){var i=!1,e=[0,0,0];H(this,2);for(var r=0;3>r;++r){var n=t[r];-1e150>n&&(n=-1e150,i=!0),1e150<n&&(n=1e150,i=!0),e[r]=n}i&&K(this,100155),null===(i=this.q)?(i=l(this.b),d(i,i.b)):(p(i),i=i.e),i.a.d=a,i.a.g[0]=e[0],i.a.g[1]=e[1],i.a.g[2]=e[2],i.f=1,i.b.f=-1,this.q=i},_t.u=function(t){H(this,vt),this.d=1,this.b=new $,this.c=t},_t.t=function(){H(this,1),this.d=2,this.q=null},_t.v=function(){H(this,2),this.d=1},_t.w=function(){H(this,1),this.d=vt;var t=!1,a=[h=this.j[0],i=this.j[1],o=this.j[2]];if(0===h&&0===i&&0===o){for(var i=[-2e150,-2e150,-2e150],n=[2e150,2e150,2e150],o=[],u=[],h=(t=this.b.c).e;h!==t;h=h.e)for(var f=0;3>f;++f){var l=h.g[f];l<n[f]&&(n[f]=l,u[f]=h),l>i[f]&&(i[f]=l,o[f]=h)}if(h=0,i[1]-n[1]>i[0]-n[0]&&(h=1),i[2]-n[2]>i[h]-n[h]&&(h=2),n[h]>=i[h])a[0]=0,a[1]=0,a[2]=1;else{for(i=0,n=u[h],o=o[h],u=[0,0,0],n=[n.g[0]-o.g[0],n.g[1]-o.g[1],n.g[2]-o.g[2]],f=[0,0,0],h=t.e;h!==t;h=h.e)f[0]=h.g[0]-o.g[0],f[1]=h.g[1]-o.g[1],f[2]=h.g[2]-o.g[2],u[0]=n[1]*f[2]-n[2]*f[1],u[1]=n[2]*f[0]-n[0]*f[2],u[2]=n[0]*f[1]-n[1]*f[0],(l=u[0]*u[0]+u[1]*u[1]+u[2]*u[2])>i&&(i=l,a[0]=u[0],a[1]=u[1],a[2]=u[2]);0>=i&&(a[0]=a[1]=a[2]=0,a[w(n)]=1)}t=!0}for(u=w(a),h=this.b.c,i=(u+1)%3,o=(u+2)%3,u=0<a[u]?1:-1,a=h.e;a!==h;a=a.e)a.b=a.g[i],a.a=u*a.g[o];if(t){for(a=0,h=(t=this.b.a).b;h!==t;h=h.b)if(!(0>=(i=h.a).f))do{a+=(i.a.b-i.b.a.b)*(i.a.a+i.b.a.a),i=i.e}while(i!==h.a);if(0>a)for(a=this.b.c,t=a.e;t!==a;t=t.e)t.a=-t.a}for(this.n=!1,h=(a=this.b.b).h;h!==a;h=t)t=h.h,i=h.e,e(h.a,h.b.a)&&h.e.e!==h&&(M(this,i,h),_(h),h=i,i=h.e),i.e===h&&(i!==h&&(i!==t&&i!==t.b||(t=t.h),_(i)),h!==t&&h!==t.b||(t=t.h),_(h));for(this.e=a=new at,h=(t=this.b.c).e;h!==t;h=h.e)h.h=et(a,h);for(it(a),this.f=new Y(this),W(this,-pt),W(this,pt);null!==(a=rt(this.e));){for(;;){t:if(0===(h=this.e).a)t=ut(h.b);else if(t=h.c[h.d[h.a-1]],0!==h.b.a&&(h=ut(h.b),r(h,t))){t=h;break t}if(null===t||!e(t,a))break;t=rt(this.e),M(this,a.c,t.c)}q(this,a)}for(this.a=this.f.a.a.b.a.a,a=0;null!==(t=this.f.a.a.b);)t.h||++a,U(t);for(this.f=null,(a=this.e).b=null,a.d=null,this.e=a.c=null,h=(a=this.b).a.b;h!==a.a;h=t)t=h.b,(h=h.a).e.e===h&&(N(h.c,h),_(h));if(!this.n){if(a=this.b,this.m)for(h=a.b.h;h!==a.b;h=t)t=h.h,h.b.d.c!==h.d.c?h.f=h.d.c?1:-1:_(h);else for(h=a.a.b;h!==a.a;h=t)if(t=h.b,h.c){for(h=h.a;r(h.b.a,h.a);h=h.c.b);for(;r(h.a,h.b.a);h=h.e);for(i=h.c.b,o=void 0;h.e!==i;)if(r(h.b.a,i.a)){for(;i.e!==h&&(c(i.e)||0>=s(i.a,i.b.a,i.e.b.a));)o=v(i.e,i),i=o.b;i=i.c.b}else{for(;i.e!==h&&(b(h.c.b)||0<=s(h.b.a,h.a,h.c.b.a));)o=v(h,h.c.b),h=o.b;h=h.e}for(;i.e.e!==h;)o=v(i.e,i),i=o.b}if(this.h||this.i||this.k||this.l)if(this.m){for(a=this.b,t=a.a.b;t!==a.a;t=t.b)if(t.c){this.h&&this.h(2,this.c),h=t.a;do{this.k&&this.k(h.a.d,this.c),h=h.e}while(h!==t.a);this.i&&this.i(this.c)}}else{for(a=this.b,t=!!this.l,h=!1,i=-1,o=a.a.d;o!==a.a;o=o.d)if(o.c){h||(this.h&&this.h(4,this.c),h=!0),u=o.a;do{t&&(n=u.b.d.c?0:1,i!==n&&(i=n,this.l&&this.l(!!i,this.c))),this.k&&this.k(u.a.d,this.c),u=u.e}while(u!==o.a)}h&&this.i&&this.i(this.c)}if(this.r){for(h=(a=this.b).a.b;h!==a.a;h=t)if(t=h.b,!h.c){o=(i=h.a).e,u=void 0;do{u=o,o=u.e,u.d=null,null===u.b.d&&(u.c===u?L(u.a,null):(u.a.c=u.c,E(u,J(u))),(n=u.b).c===n?L(n.a,null):(n.a.c=n.c,E(n,J(n))),G(u))}while(u!==i);i=h.d,(h=h.b).d=i,i.b=h}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:z,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},z.prototype.gluDeleteTess=z.prototype.x,z.prototype.gluTessProperty=z.prototype.B,z.prototype.gluGetTessProperty=z.prototype.y,z.prototype.gluTessNormal=z.prototype.A,z.prototype.gluTessCallback=z.prototype.z,z.prototype.gluTessVertex=z.prototype.C,z.prototype.gluTessBeginPolygon=z.prototype.u,z.prototype.gluTessBeginContour=z.prototype.t,z.prototype.gluTessEndContour=z.prototype.v,z.prototype.gluTessEndPolygon=z.prototype.w,void 0!==a&&(a.exports=this.libtess)},{}],2:[function(t,a,i){"use strict";function e(){this.list=[],this.hash=Object.create(null)}function r(t,a){var i=n(t),e=n(a);i!==e&&(i.rank<e.rank?i.parent=e:(e.parent=i,i.rank===e.rank&&(i.rank+=1)))}function n(t){return t.parent!==t&&(t.parent=n(t.parent)),t.parent}function s(t,a,i){for(var e,r,n,s=h(t,a),o=0;o<4;o++){if((r=u(t,a,t,i[o]))<=0)n=-1;else{if(!(r>=s))return!1;n=1}if(0===o)e=n;else if(n!==e)return!1}return!0}function o(t,a){return!(s(t[0],t[1],a)||s(t[1],t[2],a)||s(a[0],a[1],t)||s(a[1],a[2],t))}function u(t,a,i,e){return(a[0]-t[0])*(e[0]-i[0])+(a[1]-t[1])*(e[1]-i[1])}function h(t,a){var i=a[0]-t[0],e=a[1]-t[1];return i*i+e*e}function c(t,a,i,e){var r=a[0]-t[0],n=a[1]-t[1],s=e[0]-i[0],o=e[1]-i[1],u=((a[0]-i[0])*n-r*(a[1]-i[1]))/(s*n-r*o);return[i[0]+u*s,i[1]+u*o]}function b(t,a,i,e){var r=a[0]-t[0],n=a[1]-t[1],s=e[0]-i[0],o=e[1]-i[1],h=s*n-r*o;if(0===h)return{point:t,valid:!0};var c=((a[0]-i[0])*n-r*(a[1]-i[1]))/h,b=[i[0]+c*s,i[1]+c*o];return c>1||u(a,b,a,t)<0?{point:b,valid:!1}:{point:b,valid:!0}}function f(t,a,i){var e=a[0]-t[0],r=a[1]-t[1],n=Math.sqrt(e*e+r*r),s=Math.acos(e/n);return r<0&&(s*=-1),{angle:s,norm:n,dir:[e,r],ortho:[-i*r/n,i*e/n]}}var l=new(t("./tessellator"));e.prototype.push=function(t){this.hash[t]||(this.hash[t]=!0,this.list.push(t))},e.prototype.pop=function(){if(this.list.length){var t=this.list.pop();return delete this.hash[t],t}return null},a.exports=function(t,a){var i=a/2,s=t.vertices.map(function(t){return{coords:t,neighList:[]}}),h=t.edges.map(function(t,a){var e=t[0],r=t[1],n=s[e],o=s[r],u=f(n.coords,o.coords,i);n.neighList.push({to:r,angle:u.angle,dir:u.dir,ortho:u.ortho,index:a}),o.neighList.push({to:e,angle:u.angle<=0?u.angle+Math.PI:u.angle-Math.PI,dir:[-u.dir[0],-u.dir[1]],ortho:[-u.ortho[0],-u.ortho[1]],index:a});var h={rank:0,edge:t,points:{}};return h.points[r]={},h.points[e]={},h.parent=h,h}),d=[];s.forEach(function(t,a){var i=t.coords,e=t.neighList;e.sort(function(t,a){return t.angle-a.angle});var r=e.length;if(1===r){var n=e[0],s=[i[0]+n.ortho[0],i[1]+n.ortho[1]],o=[i[0]-n.ortho[0],i[1]-n.ortho[1]],u=h[n.index].points;u[a].first_vertex=n.index,u[a].last_vertex=n.index,u[a].first=s,u[a].remove_middle_first=!0,u[a].remove_middle_last=!0,u[a].last=o}else e.forEach(function(t,n){var s=e[n===r-1?0:n+1],o=h[t.index].points,u=h[s.index].points;o[a].first_vertex=s.index,u[a].last_vertex=t.index;var c=[i[0]+t.ortho[0],i[1]+t.ortho[1]],f=[c[0]+t.dir[0],c[1]+t.dir[1]],l=[i[0]-s.ortho[0],i[1]-s.ortho[1]],_=b(c,f,l,[l[0]+s.dir[0],l[1]+s.dir[1]]),p=_.point;if(_.valid)o[a].first=p,u[a].last=p,2===r&&(o[a].remove_middle_first=!0,u[a].remove_middle_last=!0);else{var v=[p[0]-t.ortho[0],p[1]-t.ortho[1]],g=[p[0]+s.ortho[0],p[1]+s.ortho[1]];d.push({done:[t.index,s.index],todo:[a,t.to,s.to],rectangles:[[c,p,v,i],[l,p,g,i]]}),o[a].first=c,u[a].last=l}})}),h.forEach(function(t){var a=t.edge,i=a[0],e=a[1],n=t.points[i],o=t.points[e],b=s[i].coords,f=s[e].coords,l=t.polygon=[];if(u(n.last,o.first,b,f)<0){var d=n.last_vertex,_=o.first_vertex;r(h[d],h[_]),l.push(c(b,n.last,o.first,f))}else l.push(n.last,o.first);if(o.remove_middle_first&&o.remove_middle_last||l.push(f),t.diag=l.length,u(n.first,o.last,b,f)<0){var d=n.first_vertex,_=o.last_vertex;r(h[d],h[_]),l.push(c(n.first,b,f,o.last))}else l.push(o.last,n.first);n.remove_middle_first&&n.remove_middle_last||l.push(b)});var _=Object.create(null);d.forEach(function(t){var a=Object.create(null),i=t.done[0],n=t.done[1],u=h[i],c=h[n];r(u,c),a[i]=!0,a[n]=!0;var b=new e;t.todo.forEach(function(t){b.push(t)});for(var f,l=t.rectangles[0],d=t.rectangles[1];null!==(f=b.pop());)s[f].neighList.forEach(function(t){var i=t.index;if(!a[i]){var e=t.to,n=_[i];if(!n){var c=s[f].coords,p=s[e].coords,v=[c[0]+t.ortho[0],c[1]+t.ortho[1]],g=[p[0]+t.ortho[0],p[1]+t.ortho[1]],E=[p[0]-t.ortho[0],p[1]-t.ortho[1]],T=[c[0]-t.ortho[0],c[1]-t.ortho[1]];n=_[i]=[v,g,E,T]}a[i]=!0,(o(n,l)||o(n,d))&&(r(u,h[i]),b.push(e))}})});var p=[],v=[];return h.forEach(function(t,a){if(t.rank>0&&t.parent===t)t.union=t.union||[],t.union.push(t.polygon),p.push(a);else if(t.parent===t){for(var i=t.polygon,e=t.diag,r=i[0],s=e;s<i.length-1;s++)v.push([r,i[s],i[s+1]]);for(r=i[e],s=0;s<e-1;s++)v.push([r,i[s],i[s+1]])}else{var o=n(t);o.union=o.union||[],o.union.push(t.polygon)}}),p.forEach(function(t){l.run({polygons:h[t].union,output:v})}),v}},{"./tessellator":3}],3:[function(t,a,i){"use strict";function e(){n.call(this),this.gluTessNormal(0,0,1),this.gluTessProperty(s.GLU_TESS_WINDING_RULE,r.windingRule.GLU_TESS_WINDING_POSITIVE),this.gluTessCallback(s.GLU_TESS_VERTEX_DATA,this._vertex),this.gluTessCallback(s.GLU_TESS_BEGIN,this._begin),this.gluTessCallback(s.GLU_TESS_END,this._end),this.gluTessCallback(s.GLU_TESS_ERROR,this._error),this.gluTessCallback(s.GLU_TESS_COMBINE,this._combine)}var r;try{r=t("libtess")}catch(t){if(void 0===window.libtess)throw new Error("libtess must be loaded before graph-draw");r=window.libtess}var n=r.GluTesselator,s=r.gluEnum,o=(r.primitiveType,s.GLU_TESS_BOUNDARY_ONLY),u=r.primitiveType.GL_LINE_LOOP;(e.prototype=Object.create(n.prototype)).constructor=e,e.prototype.run=function(t){var a=this;this.gluTessBeginPolygon(),t.polygons.forEach(function(t){a.gluTessBeginContour(),t.forEach(function(t){a.gluTessVertex([t[0],t[1],0],t)}),a.gluTessEndContour()}),this.gluTessProperty(o,!0),this._output=[],this.gluTessEndPolygon(),this.gluTessBeginPolygon(),this._output.forEach(function(t){a.gluTessBeginContour(),t.forEach(function(t){a.gluTessVertex([t[0],t[1],0],t)}),a.gluTessEndContour()}),this.gluTessProperty(o,!1),this._output=t.output,this.gluTessEndPolygon()},e.prototype.clean=function(){this._accu=[],this._output=[]},e.prototype._begin=function(t){this._primitiveType=t,this._accu=[]},e.prototype._vertex=function(t){this._accu.push(t)},e.prototype._error=function(t){console.error("libtess error: "+t)},e.prototype._combine=function(t){return[t[0],t[1]]},e.prototype._end=function(){if(this._primitiveType===u)this._output.push(this._accu);else for(var t=0;t<this._accu.length;t+=3)this._output.push([this._accu[t],this._accu[t+1],this._accu[t+2]])},a.exports=e},{libtess:1}]},{},[2])(2)});